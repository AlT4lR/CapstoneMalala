{% extends "base.html" %}

{% block title %}DecoOffice - Schedules{% endblock %}

{% block head %}
    <!-- --- THIS IS THE FIX --- -->
    <!-- Add FullCalendar's CSS -->
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/main.min.css' rel='stylesheet' />
{% endblock %}

{% block content %}
<main class="flex-1 p-8 flex flex-col bg-[#fafaf5]">
    <!-- Page Header -->
    <header class="flex justify-between items-center mb-6">
        <div>
            <h2 class="text-2xl font-bold text-[#3a4d39] uppercase tracking-wide">Schedules</h2>
            <span class="text-sm font-semibold text-gray-500">{{ selected_branch | upper }} Branch</span>
        </div>
        <div class="flex items-center gap-4">
            <button id="create-schedule-btn" class="bg-[#3a4d39] hover:bg-[#2a382a] text-white font-semibold py-2 px-4 rounded-lg shadow transition-colors">
                Create Schedule
            </button>
            {% include "_notification_button.html" %}
        </div>
    </header>

    <!-- Main Content Area -->
    <div class="flex-1 bg-white rounded-xl border border-gray-200 shadow-sm p-6">
        <!-- --- THIS IS THE FIX --- -->
        <!-- This single div is where FullCalendar will be rendered. -->
        <div id="calendar"></div>
    </div>
</main>

<!-- --- THIS IS THE FIX --- -->
<!-- 
    Modals for creating and viewing schedule details would go here.
    For now, they are commented out until they are created.
    You can create these files similar to _transaction_details_modal.html
-->
{# {% include "_schedule_create_modal.html" %} #}
{# {% include "_schedule_details_modal.html" %} #}

{% endblock %}

{% block scripts %}
    <!-- --- THIS IS THE FIX --- -->
    <!-- Add FullCalendar's JavaScript -->
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/main.min.js'></script>
    <!-- Your custom calendar logic will be in here -->
    <script src="{{ url_for('static', filename='js/calendar.js') }}"></script>
{% endblock %}