<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard - DecoOffice</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    {# Optional: Include a font-awesome library for icons if you want them #}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <div class="logo-circle"></div>
                <span>DecoOffice</span>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    {# Home link is active on the dashboard page #}
                    <li class="active"><a href="{{ url_for('main.dashboard') }}"><i class="fas fa-home"></i> Home</a></li>
                    {# Corrected link to the transactions page #}
                    <li><a href="{{ url_for('main.transactions') }}"><i class="fas fa-exchange-alt"></i> Transaction</a></li>
                    <li><a href="#"><i class="fas fa-wallet"></i> Wallet</a></li> <!-- Placeholder -->
                    <li><a href="#"><i class="fas fa-chart-line"></i> Analytics</a></li> <!-- Placeholder -->
                    <li><a href="{{ url_for('auth.logout') }}"><i class="fas fa-sign-out-alt"></i> Logout</a></li> {# Added Logout link #}
                </ul>
            </nav>
             {# Optional: Display username if passed from Flask #}
             {% if username %}
                <div class="logged-in-user">Logged in as: {{ username }}</div>
             {% endif %}
             {# Optional: Display selected branch in sidebar if desired #}
             {# {% if selected_branch %} <div class="logged-in-user">Branch: {{ selected_branch }}</div> {% endif %} #}
        </div>

        <!-- Main Content Area -->
        <div class="main-content">

            {# Block to display and consume flashed messages #}
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <div class="flash-messages-container">
                        {% for category, message in messages %}
                            <div class="flash {{ category }}">{{ message }}</div>
                        {% endfor %}
                    </div>
                {% endif %}
            {% endwith %}

            {# Display the name of the selected branch prominently #}
            {% if selected_branch %}
                <h1 class="dashboard-branch-title">Dashboard for {{ selected_branch }}</h1>
            {% else %}
                 <h1 class="dashboard-branch-title">Dashboard</h1> {# Default if no branch selected #}
            {% endif %}


            <div class="section">
                <h2>INVOICES STATUS</h2> {# Updated heading to match image #}
                <div class="invoice-cards">
                    <div class="invoice-card paid">
                        <div class="card-content"></div> {# Placeholder for potential content #}
                        <span class="card-label">paid</span>
                    </div>
                    <div class="invoice-card on-going">
                         <div class="card-content"></div> {# Placeholder #}
                        <span class="card-label">on-going</span>
                    </div>
                    <div class="invoice-card declined">
                         <div class="card-content"></div> {# Placeholder #}
                        <span class="card-label">declined</span>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>BUDGET</h2>
                {# Budget time period buttons #}
                <div class="budget-time-selectors">
                    <button class="time-button">TODAY</button>
                    <button class="time-button">WEEK</button>
                    <button class="time-button active">MONTH</button> {# 'MONTH' is active in the image #}
                </div>

                {# Budget Legend #}
                <div class="budget-legend">
                    <span class="legend-item"><span class="legend-color income"></span> Income</span>
                    <span class="legend-item"><span class="legend-color spent"></span> Spent</span>
                    <span class="legend-item"><span class="legend-color savings"></span> Savings</span>
                    <span class="legend-item"><span class="legend-color scheduled"></span> Scheduled</span>
                </div>

                {# Pie Chart Area #}
                <div class="pie-chart-container">
                    <div class="pie-chart">
                        {# The pie chart segments will be created and styled purely with CSS conic gradients #}
                        {# Add text labels positioned over the chart using CSS #}
                        <div class="chart-label income-label">10%</div>
                        <div class="chart-label spent-label">20%</div>
                        <div class="chart-label savings-label">30%</div>
                        <div class="chart-label scheduled-label">40%</div>
                    </div>
                </div>

                {# Removed the old budget bars section #}
                {#
                <div class="budget-bars">
                    <div class="budget-item">
                        <span class="budget-label">income</span>
                        <div class="bar-container"><div class="budget-bar income-bar"></div></div>
                    </div>
                    <div class="budget-item">
                        <span class="budget-label">spent</span>
                        <div class="bar-container"><div class="budget-bar spent-bar"></div></div>
                    </div>
                    <div class="budget-item">
                        <span class="budget-label">savings</span>
                        <div class="bar-container"><div class="budget-bar savings-bar"></div></div>
                    </div>
                    <div class="budget-item">
                        <span class="budget-label">scheduled</span>
                        <div class="bar-container"><div class="budget-bar scheduled-bar"></div></div>
                    </div>
                </div>
                #}
            </div>
        </div>
    </div>

    {# Optional: Include Font Awesome if you use icons #}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
    {# Link to your custom JS if you added it #}
    <script src="{{ url_for('static', filename='index.js') }}"></script>
</body>
</html>