{% extends "base.html" %}

{% block title %}DecoOffice - Add Transactions{% endblock %}

{% block content %}
<main class="flex-1 p-8 flex flex-col bg-[#fafaf5]">
    <header class="flex justify-between items-center mb-10">
        <h2 class="text-2xl font-bold text-gray-700 uppercase tracking-wider">Add Transactions</h2>
    </header>

    <div class="flex-1 bg-white rounded-xl border border-gray-200 shadow-sm p-8">
        
        <form id="add-transaction-form" action="{{ url_for('main.add_transaction') }}" method="POST" class="w-full max-w-4xl mx-auto">
            
            {{ form.hidden_tag() }}

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-6">
                
                <div class="lg:col-span-2">
                    {{ form.name_of_issued_check.label(class="block text-gray-600 text-sm font-semibold mb-2") }}
                    {{ form.name_of_issued_check(class="w-full px-4 py-3 bg-white border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400", placeholder="Enter name") }}
                    {% for error in form.name_of_issued_check.errors %}<span class="text-red-500 text-xs">{{ error }}</span>{% endfor %}
                </div>
                <div>
                    {{ form.check_no.label(class="block text-gray-600 text-sm font-semibold mb-2") }}
                    {{ form.check_no(class="w-full px-4 py-3 bg-white border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400", placeholder="#12345") }}
                    {% for error in form.check_no.errors %}<span class="text-red-500 text-xs">{{ error }}</span>{% endfor %}
                </div>
                <div>
                    {{ form.check_date.label(class="block text-gray-600 text-sm font-semibold mb-2") }}
                    {{ form.check_date(class="w-full px-4 py-3 bg-white border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400") }}
                    {% for error in form.check_date.errors %}<span class="text-red-500 text-xs">{{ error }}</span>{% endfor %}
                </div>
                <div>
                    {{ form.countered_check.label(class="block text-gray-600 text-sm font-semibold mb-2") }}
                    {{ form.countered_check(class="w-full px-4 py-3 bg-white border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400", step="0.01", placeholder="0.00") }}
                    {% for error in form.countered_check.errors %}<span class="text-red-500 text-xs">{{ error }}</span>{% endfor %}
                </div>
                <div>
                    {{ form.check_amount.label(class="block text-gray-600 text-sm font-semibold mb-2") }}
                    {{ form.check_amount(class="w-full px-4 py-3 bg-white border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400", step="0.01", placeholder="0.00") }}
                    {% for error in form.check_amount.errors %}<span class="text-red-500 text-xs">{{ error }}</span>{% endfor %}
                </div>
                <div>
                    {{ form.ewt.label(class="block text-gray-600 text-sm font-semibold mb-2") }}
                    {{ form.ewt(class="w-full px-4 py-3 bg-white border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400", step="0.01", placeholder="0.00") }}
                    {% for error in form.ewt.errors %}<span class="text-red-500 text-xs">{{ error }}</span>{% endfor %}
                </div>
                {# --- THIS IS THE FIX --- #}
                {# The Payment Method field has been added back to the form layout. #}
                <div>
                    {{ form.payment_method.label(class="block text-gray-600 text-sm font-semibold mb-2") }}
                    {{ form.payment_method(class="w-full px-4 py-3 bg-white border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400 appearance-none") }}
                    {% for error in form.payment_method.errors %}<span class="text-red-500 text-xs">{{ error }}</span>{% endfor %}
                </div>
                <div>
                    {{ form.status.label(class="block text-gray-600 text-sm font-semibold mb-2") }}
                    {{ form.status(class="w-full px-4 py-3 bg-white border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400 appearance-none") }}
                    {% for error in form.status.errors %}<span class="text-red-500 text-xs">{{ error }}</span>{% endfor %}
                </div>
            </div>

            <div class="flex justify-center mt-12 space-x-6">
                <button type="reset" class="px-12 py-3 bg-[#3a4d39] hover:bg-[#4d684b] text-white font-semibold rounded-lg shadow-md transition-colors">Reset</button>
                <button type="submit" class="px-12 py-3 bg-[#3a4d39] hover:bg-[#4d684b] text-white font-semibold rounded-lg shadow-md transition-colors">Add</button>
            </div>
        </form>
    </div>
</main>
{% endblock %}